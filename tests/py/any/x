diff --git a/tests/py/any/dup.t b/tests/py/any/dup.t
index 7df24a1..88ebb8e 100644
--- a/tests/py/any/dup.t
+++ b/tests/py/any/dup.t
@@ -4,4 +4,4 @@
 
 dup to lo;ok
 dup to mark map { 0x00000001 : lo, 0x00000002 : lo};ok
-
+dup to mark map { 0x00000001-0x00000003: lo, 0x00000010-0x00000020: lo};ok
diff --git a/tests/py/any/dup.t.payload b/tests/py/any/dup.t.payload
index 206a9ec..4a8839f 100644
--- a/tests/py/any/dup.t.payload
+++ b/tests/py/any/dup.t.payload
@@ -12,3 +12,13 @@ netdev test-netdev ingress
   [ lookup reg 1 set map%d dreg 1 ]
   [ dup sreg_dev 1 ]
 
+# dup to mark map { 0x00000001-0x00000003: lo, 0x00000010-0x00000020: lo}
+map%d test-netdev f
+map%d test-netdev 0
+        element 00000000  : 1 [end]     element 01000000  : 00000001 0 [end]    element 04000000  : 1 [end]     element 10000000  : 00000001 0 [end]    element 21000000  : 1 [end]
+netdev test-netdev ingress
+  [ meta load mark => reg 1 ]
+  [ byteorder reg 1 = hton(reg 1, 4, 4) ]
+  [ lookup reg 1 set map%d dreg 1 ]
+  [ dup sreg_dev 1 ]
+
diff --git a/tests/py/any/fwd.t b/tests/py/any/fwd.t
index fb15ace..9d80e62 100644
--- a/tests/py/any/fwd.t
+++ b/tests/py/any/fwd.t
@@ -4,4 +4,5 @@
 
 fwd to lo;ok
 fwd to mark map { 0x00000001 : lo, 0x00000002 : lo};ok
+fwd to mark map { 0x00000001-0x00000003 : lo, 0x00000010-0x00000020 : lo};ok
 
